%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% JavaScripting English Major Cheat Sheet
%
% by Moacir P. de Sá Pereira, based on 
% a template by Michelle Cristina de Sousa Baltazar:
%
% https://www.overleaf.com/latex/examples/matplotlib-and-random-cheat-sheet/yttxrcxntbht#.Wg8t2rbMyRs
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\documentclass{article}
\usepackage[landscape]{geometry}
\usepackage{url}
\usepackage{multicol}
% \usepackage{amsmath}
% \usepackage{amsfonts}
\usepackage{tikz}
\usetikzlibrary{decorations.pathmorphing}
% \usepackage{amsmath,amssymb}

% \usepackage{colortbl}
\usepackage{xcolor}
% \usepackage{mathtools}
% \usepackage{amsmath,amssymb}
\usepackage{enumitem}

\usepackage{verbatimbox}
\usepackage{tabulary}
\usepackage{listings}

\title{The JavaScripting English Major Cheat Sheet}
\usepackage[english]{babel} 
\usepackage{fontspec}   
\setmainfont{EBGaramond}[
  Path = /Users/moacir/Library/Fonts/,
  UprightFont = * ,
  ItalicFont = *12-Italic ,
  SmallCapsFont = *SC ,
  Extension =.otf 
  ]
\setmonofont[Scale=0.8]{UbuntuMono-R}[
  Path = /Users/moacir/Library/Fonts/,
  UprightFont = * ,
  ItalicFont = *I,
  Extension =.ttf 
  ]

\advance\topmargin-.8in
\advance\textheight3in
\advance\textwidth3in
\advance\oddsidemargin-1.5in
\advance\evensidemargin-1.5in
\parindent0pt
\parskip2pt
\newcommand{\hr}{\centerline{\rule{3.5in}{1pt}}}
%\colorbox[HTML]{e4e4e4}{\makebox[\textwidth-2\fboxsep][l]{texto}


\definecolor{backcolor}{rgb}{0.92,0.92,0.92}
\definecolor{commentcolor}{rgb}{0.35,0.35,0.35}
\lstdefinestyle{mystyle}{%
    backgroundcolor=\color{backcolor},   
    commentstyle=\color{commentcolor},
    keywordstyle=\textbf,
    % numberstyle=\tiny,
%    stringstyle=
    basicstyle=\small\ttfamily,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    % numbers=left,                    
    % numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2,
    morecomment=[l]{//}
}
\lstset{style=mystyle}

\newcommand{\colortt}[1]{\setlength{\fboxsep}{1.5pt}\colorbox{backcolor}{\texttt{#1}}}
\newcommand{\sectionBox}[2]{%
  \begin{tikzpicture}
    \node [mybox] (box){%
        \begin{minipage}{0.3\textwidth}
          \parindent=1em
          #2
        \end{minipage}
    };
    \node[fancytitle, right=10pt] at (box.north west) {#1};
  \end{tikzpicture}
}

\tikzstyle{mybox} = [draw=black, fill=white, very thick,
    rectangle, rounded corners, inner sep=10pt, inner ysep=10pt]
\tikzstyle{fancytitle} =[fill=black, text=white, font=\bfseries]

\begin{document}

\begin{center}
  {\huge{\raisebox{-.2\height}{\includegraphics[height=1em]{/Users/moacir/assets/images/javascripting-english-major.png}}\textsc{The
JavaScripting English Major Cheat Sheet}}}\\
  {\large \url{https://the-javascripting-english-major.org/cheat-sheet}, by Moacir P. de Sá Pereira}
\end{center}

\begin{multicols*}{3}

  \sectionBox{Files \& Basic Syntax (ch 2)}{%
  \noindent Write JavaScript in your \colortt{scripts.js} file, HTML in your
  \colortt{index.html}, and CSS (styles) in your \colortt{styles.css}. You can use
  different file names, but the JavaScript files should always end in
  \colortt{.js}.

      End every statement (typically a line of code) with a \colortt{;}.
  Comment text out with \colortt{//}. All of the subsequent code on that line
  will not be executed.

      Define variables using \colortt{let variableName;} and then assign it
  with \colortt{variableName = "some string";}, for example.
  }
  \sectionBox{Data Types (ch 2)}{%
      \begin{center}\small{\begin{tabulary}{\textwidth}{LL}
        \colortt{string} & Regular text, surrounded by \colortt{""}.  \\
        \colortt{number} & A number. Not surrounded by \colortt{""}.  \\
        \colortt{boolean} & \colortt{true} or \colortt{false}. \\
        \colortt{array} & A list, surrounded by \colortt{[…]}.\\
        \colortt{object} & Always surrounded by \colortt{\{…\}}.\\
      \end{tabulary}}\end{center}
  }
  \sectionBox{If Statements (ch. 3)}{%
    \noindent If-then-else logic is central to program decision making.

    \lstinputlisting[firstline=101, lastline=103]{listings.js}

    What follows \colortt{if} in parentheses is a truth test that should
  respond either with \colortt{true} or \colortt{false}:

    \lstinputlisting[firstline=111, lastline=128]{listings.js}
  }
  \sectionBox{Functions (ch 4 \& 6)}{%
    \noindent JavaScript provides the verbs of the web. If a page does
something because of you, that’s JavaScript. The verbs of JavaScript, however,
are functions. Functions receive parameters and \colortt{return} a value:

    \lstinputlisting[firstline=31, lastline=36]{listings.js}

    Parameter names are arbitrary and exist only inside the 
    function. Methods like \colortt{.forEach()} are functions:

    \lstinputlisting[firstline=41, lastline=47]{listings.js}
  }
  \sectionBox{Arrays (chs 5, 6, \& 11)}{%
    \noindent Arrays are a list of things (strings, objects, arrays). Every
item in the list has an index (that begins with 0) that can be used to access
it:

    \lstinputlisting[firstline=1, lastline=4]{listings.js}

    Arrays also have a \colortt{.length} property and useful functions built-in
as methods, like \colortt{.map()}, which takes the array and builds a new one.

    \lstinputlisting[firstline=5, lastline=11]{listings.js}

    The \colortt{.forEach()} method works similarly to \colortt{.map()} and
iterates over the array—say, a set of points on a map—in order to execute
useful commands on each item. See above.

  }
  \vfill\null
  \columnbreak
  \sectionBox{Other Resources}{%
    \noindent These basics of JavaScript should lead you much of the way towards
being able to look up other methods and looking up questions online. Here are
some useful references:

    \begin{enumerate}[topsep=0pt,itemsep=-1ex,partopsep=1ex,parsep=1ex]

    \item \url{https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference}
    — MDN JavaScript reference
    \item \url{http://api.jquery.com} — jQuery documentation
    \item \url{http://leafletjs.com} — Leaflet homepage 
    \item \url{https://getbootstrap.com/docs/} — Bootstrap documentation
    \item \url{https://stackoverflow.com/questions/tagged/javascript} — Stack
    Overflow JavaScript questions. Priceless resource
    \item \url{https://www.w3schools.com/TAGs/} — HTML reference
    \item \url{https://www.w3schools.com/cssref/} — CSS reference
    \item \url{https://www.w3schools.com/colors/colors_picker.asp} — Color
picker

    \end{enumerate}
  }
  \sectionBox{Objects (chs 5, 6, \& 11)}{%
    \noindent Objects are generic types and have arbitrary properties that you
can assign. They are the multi-purpose blank slate of JavaScript.

    \lstinputlisting[firstline=21, lastline=27]{listings.js}

    Properties can be any data type, including functions:

    \lstinputlisting[firstline=131, lastline=143]{listings.js}
  }
  \vfill\null
  \columnbreak
  \sectionBox{jQuery (chs 8, 9, 11, \& 14)}{%
    \noindent jQuery lets you select parts of the webpage with
\colortt{\$("entity")} selector and
    manipulate them:

    \lstinputlisting[firstline=51, lastline=58]{listings.js}

    \colortt{.html()} is a method, but there many, many useful ones in JQuery.
Here are two more:

    \lstinputlisting[firstline=61, lastline=69]{listings.js}
  }
  \sectionBox{CSS (ch 8)}{%
    \noindent CSS (cascading style sheets) is the language we use to control
how things look on the page, in terms of colors, fonts, sizes, margins, etc.
Styles are defined in a file ending in \colortt{.css}.

    Styles use the same syntax for tags, ids, and classes as jQuery uses in
its \colortt{\$("entity")} selector.

    \lstinputlisting{listings.css}

    CSS is magic, so I recommend using pre-defined styles like those in
Bootstrap and tweaking them. Colors are defined either as hex values or rgb values. See the other resources
section for more.
  }
  \sectionBox{HTML (ch 8)}{%
    \noindent HTML is a relatively simple language made up of a \colortt{<tag>} that
contains information inside and are then closed with a similar tag:
\colortt{</tag>}. Here is a sample \colortt{index.html}:

    \lstinputlisting[language=html]{listings.html}

    Information about the page and pointers to CSS stylesheets go between the
\colortt{<head></head>} tags. The content of the page goes in the
\colortt{<body></body>} tags, with the JavaScript files loaded at the bottom
inside \colortt{<script></script>} tags.

    Inside a tag, we can set attributes with values, like \colortt{id="response"}
in the \colortt{<div>} in the example. In addition to \colortt{id=},
\colortt{class=} and \colortt{src=} (for “source”) are common attributes.  \colortt{id=} should give a unique name to an
HTML object, while many objects can have the same \colortt{class=}.

    Some other useful tags include:

      \begin{center}
        \small{\addvbuffer[-12pt 0pt]{%
          \begin{tabulary}{\textwidth}{LL}
            \colortt{<p></p>} & paragraph \\
            \colortt{<a href="http://…"></a>} & anchor, for making links \\
            \colortt{<img src="http://…" />} & images \\
            \colortt{<h2></h2>} & 2nd-level heading (down to \colortt{<h6>}) \\
            \colortt{<div></div>} & a generic block of content \\
            \colortt{<span></span>} & a generic span of inline content \\
            \colortt{<em></em>} & emphasis (typically italics) \\
            \colortt{<strong></strong>} & strong (typically bold) \\
          \end{tabulary}
        }}
      \end{center}


    The jQuery selector can grab HTML objects based on the tag type, the id,
and the class. See the jQuery section for more.
  }
  \sectionBox{Leaflet (chs 10, 11, \& 14)}{%
    \noindent Leaflet requires some added stylesheet and script additions in
your HTML file (see ch 10). The map also needs to be drawn in a
\colortt{<div>} with a pre-defined height (see the CSS section here). Defining
a map then requires that \colortt{<div>}, a center point, and a tile resource
to draw the background map.
    \lstinputlisting[firstline=1, lastline=13]{leaflet.js}

    Once the basic map is drawn, you can add markers and lines to it, which
can be styled in a way similar to CSS. Every Leaflet method is of the form
\colortt{L.someMethod()}.

    \lstinputlisting[firstline=21, lastline=40]{leaflet.js}

    Leaflet also can respond to events like clicking:

    \lstinputlisting[firstline=41, lastline=44]{leaflet.js}

  }
  

\end{multicols*}
% \newpage
% \begin{multicols*}{3}


% \end{multicols*}
\end{document}
